function [a,r] = generatera(pa,s,t,session);

str = '"[[null,[[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,0,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,0,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1]]],[null,[[1,1,0,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,0,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1],[1,1,1,0,1,1,1,1,1,1,1,1,1,1,1]]],[null,[[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,1,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,0,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,0,1,1,1,1,1,1,1,1,1,1,1,1]],[[1,1,0,1,1,1,1,1,1,1,1,1,1,1,1],[1,1,0,1,1,1,1,1,1,1,1,1,1,1,1]]]]"';
reinfseq = jsondecode(jsondecode(str));
rn = reinfseq{session}{s+1}(:,t); 

p = 0.8; 
c = 1;
ago = 1; 

a = sum(rand>cumsum([0 pa]));

rn = rn(a);

if s==1	% go to win 
	if a == ago; 	r = rn; 
	else 				r = (1-rn);
	end
elseif s==2		% nogo to win 
	if a == ago; 	r = (1-rn);
	else 				r = rn;
	end
elseif s==3; 	% go to avoid 
	if a == ago; 	r = -(1-rn);
	else 				r = -rn;
	end
elseif s==4; 	% nogo to avoid 
	if a == ago; 	r = -rn;
	else 				r = -(1-rn);
	end
end
